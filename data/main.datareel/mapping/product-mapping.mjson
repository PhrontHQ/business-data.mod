{
    "root": {
        "prototype": "montage/data/service/expression-data-mapping",
        "values": {
            "objectDescriptor": {"@": "ProductObjectDescriptor"},
            "rawDataPrimaryKeys":["id"],
            "objectMapping": {
                "rules": {
                    "title": {"<->": "title"},
                    "description": {"<->": "description"},
                    "descriptionHtml": {"<->": "descriptionHtml"},
                    "collections": {
                        "<->": "collectionIds",
                        "converter": {"@": "collectionsConverter"}
                    },
                    "images": {
                        "<->": "imageIds",
                        "converter": {"@": "imagesConverter"},
                        "debug":true
                    },
                    "variants": {
                        "<->": "variantIds",
                        "converter": {"@": "variantsConverter"},
                        "debug":true
                    },
                    "orders": {
                        "<->": "orderIds",
                        "converter": {"@": "ordersForeignKeyConverter"}
                    },
                    "link": {"<->": "link"},
                    "productType": {"<->": "productType"},
                    "notes": {"<->": "notes"},
                    "vendors": {
                        "<->": "vendorIds",
                        "converter": {"@": "vendorsForeignKeyConverter"},
                        "debug":true
                    },
                    "tags": {
                        "<->": "tags"
                    }
                }
            },
            "rawDataMapping": {
                "rules": {
                }
            },
            "requisitePropertyNames": [
                "title","description","descriptionHtml","images","link","productType","vendors","variants"
            ]
        }
    },

    "ProductObjectDescriptor": {
        "object": "data/main.datareel/model/product.mjson"
    },
    "ordersForeignKeyConverter": {
        "prototype": "montage/data/converter/raw-property-value-to-object-converter",
        "values": {
            "convertExpression": "$.has(id)"
        }
    },
    "collectionsConverter": {
        "prototype": "montage/data/converter/raw-foreign-value-to-object-converter",
        "values": {
            "convertExpression": "$.has(id)"
        }
    },
    "imagesConverter": {
        "prototype": "montage/data/converter/raw-foreign-value-to-object-converter",
        "values": {
            "convertExpression": "$.has(id)"
        }
    },
    "vendorsForeignKeyConverter": {
        "prototype": "montage/data/converter/raw-foreign-value-to-object-converter",
        "values": {
            "convertExpression": "$.has(id)"
        }
    },
    "variantsConverter": {
        "prototype": "montage/data/converter/raw-foreign-value-to-object-converter",
        "values": {
            "convertExpression": "$.has(id)"
        }
    },
    "locationsForeignKeyConverter": {
        "prototype": "montage/data/converter/raw-foreign-value-to-object-converter",
        "values": {
            "convertExpression": "$.has(id)"
        }
    }   
}